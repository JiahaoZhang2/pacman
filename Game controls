using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Gamemanger : MonoBehaviour
{
    public GameObject pacman;
    public GameObject blinky;
    public GameObject clyde;
    public GameObject inky;
    public GameObject pinky;
    public GameObject startPanel;
    public GameObject gamePanel;
    public GameObject startCountDownPrefab;
    public GameObject gameoverPrefab;
    public GameObject winPrefab;


    private void Start()
    {
        SetGameState(false);
    }

    public void OnStartButton()
    {
        StartCoroutine(PlayStartCountDown());
        startPanel.SetActive(false);
    }

    public void OnExitButton()
    {
        Application.Quit();
    }

    IEnumerator PlayStartCountDown()
    {
      GameObject go = Instantiate(startCountDownPrefab);
      yield return new WaitForSeconds(3F);
      Destroy(go);
      SetGameState(true);
      gamePanel.SetActive(true);
    }


    private void SetGameState(bool state)
    {
    pacman.GetComponent<PacMove>().enabled = state;
    blinky.GetComponent<GhostMove>().enabled = state;
    clyde.GetComponent<GhostMove>().enabled = state;
    inky.GetComponent<GhostMove>().enabled = state;
    pinky.GetComponent<GhostMove>().enabled = state;
    }
}
